% Generated by roxygen2 (4.1.0): do not edit by hand
% Please edit documentation in R/rpstreams.R
\docType{methods}
\name{pstream_input_conn}
\alias{flush,pstream_output_conn-method}
\alias{pstream_input_conn}
\alias{pstream_output_conn}
\title{Rpstreams connections objects}
\usage{
pstream_input_conn(stream, timeout = 5, stderr = FALSE)

pstream_output_conn(stream, send_eof = FALSE)

\S4method{flush}{pstream_output_conn}(con)
}
\arguments{
\item{stream}{a pstream object}

\item{stderr}{read from stderr?}

\item{send_eof}{write EOF after sending message?}
}
\value{
a \code{\link{textConnection}} object
}
\description{
Open an R connection object for reading or writing to process
}
\details{
R's \code{\link{connections}} objects provide uniform access to a variety
of IO modes. These function build \code{\link{textConnection}} object that
read or write to a pstream. An input connection simply reads from stdout,
or optionally stderr, and then returns that text when the connection is
read. Note that the reading happens at the time of creation.

You must call \code{\link{flush}} on an output connection or nothing
will get written to the processes standard input. Because these objects
are \code{\link{textConnection}}s, they cannot be used repeatedly.
Always initialize a new connection for each use.
}
\examples{
x = pstream("R", "--vanilla --slave")
c1 = pstream_output_conn(x)
writeLines("R.Version()", c1)
flush(c1)                # required
c2 = pstream_input_conn(x)
cat(readLines(c2))
pstream_close(x)

x = pstream("R", "--vanilla --slave")
a = 1:3
write_stdin(x, "a = unserialize(stdin())")
c1 = pstream_output_conn(x)
serialize(a, c1)            # get the con object
flush(c1)                   # required
write_stdin(x, "serialize(a, stdout())")
c2 = pstream_input_conn(x)
cat(unserialize(c2))
pstream_close(x)

x = pstream("R", "--vanilla --slave")
data(mtcars)
write_stdin(x, "x = read.table(stdin())")
c1 = pstream_output_conn(x)
write.table(mtcars, c1)
write_stdin(x, "head(x)")
read_stdout(x, 1)
pstream_close(x)
}

